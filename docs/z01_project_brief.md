**Project Brief: Blockchain Sleuthing Platform**

### Overview
The platform unlocks crowdsleuthing by enabling users to collaboratively analyze wallet addresses across multiple blockchains (Ethereum, Solana, Bitcoin, Tron, etc.). While inspired by tools like Arkham, MetaSleuth, and TRM Labs, it enhances blockchain investigation by combining community intelligence with autonomous agents - users work together to discover new investigation strategies, which are then automated and refined by the system, creating a continuously evolving knowledge base that benefits the entire sleuthing community.

This platform is designed for anyone looking to perform due diligence or uncover financial opportunities in blockchain networks. It provides deep insights into on-chain activity, allowing users to detect patterns, analyze wallet behaviors, and discover potential risks or trends.

To ensure efficient resource usage and incentivize contributions, the platform operates on a credit-based system where users spend credits to generate or run strategies. This mechanism encourages active participation in strategy development while preventing unnecessary computation and ensuring fair access to resources.

- **User-Created Strategies:** Instead of relying on predefined methods, users specify investigation goals (e.g., “Identify side wallets by tracking token transfers”), and the platform determines an agentic workflow to achieve the request. As investigations evolve, new strategies are unlocked, making the system progressively more efficient and expanding the range of available analyses.
- **Global Shared Graph Data:** Each executed strategy contributes to a globally shared dataset, reducing redundant computations and accelerating future investigations. Users benefit from prior analyses, enabling a more efficient and interconnected investigation process.
- **Community-Driven Data Curation:** Users can validate and refine data to ensure its accuracy and integrity over time. This continuous improvement process enhances the quality of insights generated by the platform.

The platform provides a visual, graph-based interface where users can investigate wallet connections dynamically, with results stored in a global database accessible to all participants.

### Interactive Exploration
- Users enter a wallet address into the web app.
- A central node is created, representing the wallet.
- Users describe their investigation goal (e.g., “Find related wallets through ERC-20 transfers”).
- The system determines the best agentic approach to fulfill the request.
- As new strategies emerge, they are stored for future use.
- New nodes are added recursively with validation mechanisms to ensure legitimacy.

### Core Functionality
1. **Strategies & Data Curation**
   - Strategies take time to process and may yield new pending nodes.
   - Pending nodes undergo additional computation for tagging (e.g., EOA, DeFi contract, Safe wallet, Bridge, Mixer like Tornado Cash).
   - Users spend credits to generate and run strategies, ensuring efficient allocation of computational resources and incentivizing contributions.

2. **Preselected Strategy Ideas**
   While there are no prebuilt strategies, the platform provides a default set of investigative paths that guide the agentic discovery process:
   - **ERC-20 Token Transfers:** Identify side wallets by tracking token transfers.
   - **ERC-721 Token Transfers:** Similar to ERC-20 but with NFT tracking.
   - **Bidirectional Transfers:** Analyze wallets interacting in both directions.
   - **Recursive Funding Analysis:** Trace wallets funding themselves through intermediaries.
   - **Bridging Transfers:** Track cross-chain transfers.
   - **LP Position Transfers:** Identify side wallets using liquidity pools.
   - **Safe Signer Extensions:** Extend analysis to Safe wallets.

### Technical Architecture
The platform leverages an agentic component that is aware of all available tools and strategies, selecting the best workflow dynamically. A tool is a general-purpose piece of logic, while a strategy is a structured approach to data collection and analysis that is discovered through an agentic process.

- **Tools:** The platform uses a few core logic components that serve as building blocks for sleuthing strategies. Below are examples:
  - **browser_use:** Uses the browser to navigate websites and interact dynamically.
  - **dune_api_use:** Reads Dune documentation and examples to generate and refine queries iteratively.
  - **rest_api_use:** Interacts with APIs based on provided documentation and user input.

- **Sleuthing Strategies:** Unlike a tool, a strategy is not just a single function but an optimized sequence of computations derived through an agentic discovery process. The discovery phase of a strategy can involve multiple attempts, iterative learning, and different tool combinations, forming a complex computation graph. Once the strategy is established, the computation graph may be simplified to retain only the essential steps needed for future executions.

- **Agentic Account Creation:** The system autonomously creates accounts on required platforms (e.g., blockchain explorers, data providers) to access necessary APIs without manual intervention. This includes:
  - Navigating to the registration page and filling out the required information.
  - Using a pre-assigned email (e.g., **ProtonMail**) and generating secure passwords.
  - Completing any verification steps such as CAPTCHA-solving if feasible.
  - Storing the retrieved API keys securely for future use.

  For example:
  - If a strategy requires querying Dune Analytics but no API key is available, the agent will register a new Dune account, verify it using a dedicated email, retrieve an API key, and store it in the database.
  - If tagging needs Arkham Intelligence data, the agent creates an Arkham account, logs in, and interacts with the browser dynamically to retrieve information.
  - The same process applies for Etherscan accounts where API access is required for retrieving address tags.

### Technical Considerations
1. **Agentic Workflow for Strategy Crafting & Execution**
   - Strategies leverage autonomous agents to collect and analyze data dynamically.
   - Users initiate an investigation with a specific goal, and the system determines the best workflow.
   - As investigations progress, new strategies are unlocked, making future investigations more efficient.

2. **Human-in-the-Loop Process during Strategy Crafting**
   - The system heavily relies on user feedback and interaction throughout the investigation process.
   - Users can purchase additional data to enhance their investigations.
   - Results can be validated or discarded by users, providing crucial feedback.
   - The agentic system adapts and reiterates based on user interactions, continuously improving its strategies.
   - This feedback loop ensures high-quality results and helps optimize future investigations.

3. **Tagging as a Natural Stop Point while extending the address graph**
   - As users explore and extend the transaction graph, certain addresses serve as natural endpoints where further investigation may not be necessary.
   - Strategies stop when a known entity (e.g., Uniswap contract) is identified.
   - **Tagging Sources:**
     - Custom heuristics (EOA vs. contract, DeFi, CEX, Bridge, Mixer, etc.).
     - Etherscan's tag database.
     - Arkham Intelligence (automated browser-based checks).
     - ChainAnalysis blacklisted addresses (check address 0x40c57923924b5c5c5455c48d93317139addac8fb).

4. **Global Shared address graph data Data**
   - Address data is stored in a **graph-based database**, accessible to all users.
   - Tags are stored in a **SQL database**.
   - Users can report incorrect links or tags for review.
   - When a strategy is executed, its findings become part of the shared database, benefiting all users and enhancing future investigations.

5. **Real-Time Streaming for Interactivity and User Updates**
   - The app must broadcast intermediary steps to provide live feedback and keep users informed.
   - **Streaming via SSE (Server-Sent Events)** ensures responsiveness and real-time updates.

6. **Model Fine-Tuning for Improved Execution**
   - To improve interaction efficiency with APIs such as Dune, the platform may fine-tune models to enhance conversion rates and success rates.

### Summary
This platform provides an open, crowdsourced environment for onchain sleuthing, allowing users to uncover wallet relationships efficiently. By integrating agentic workflows, shared global data, and dynamic strategy discovery, it enables a scalable and adaptive investigation tool for blockchain transactions.

